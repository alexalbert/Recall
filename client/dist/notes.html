<template>
  <section class="au-animate">
    <panel>
    <div class="row">
        <div class="col-xs-1" style="margin-top: 70px">
          <div repeat.for="tag of tags">
            <label click.delegate="$parent.tagClicked(tag)"
             style="color: ${tag === $parent.selectedTag ? 'red' : 'black'}"
            >${tag}</label>
          </div>
        </div>
        <div class="col-xs-11">
          <div class="row" style="margin-top: 20px">
            <input type="text" class="col-xs-4  input-mini" style="margin-left: 17px"
                placeholder="keywords" value.bind="keywords">
            <button class="col-xs-1 btn btn-xs btn-primary" style="margin-left: 10px"
                click.trigger="search()" disabled.bind="!keywords.length">Search</button>
            <button class="col-xs-1 btn btn-xs btn-primary"  style="margin-left: 10px"
                click.trigger="resetSearch()" disabled.bind="!keywords.length">Reset</button>
            <button class="col-xs-1 btn btn-xs btn-primary pull-right" style="margin-right: 17px" click.trigger="newNote()">New Note</button>
          </div>
          <div repeat.for="note of notes" style="margin-top: 15px">
              <textarea class='form-control custom-control'
                style="background: aliceblue"
                placeholder="text"
                value.bind="note.text | updateDb : $parent : $index">
              </textarea>
              <textarea  class="form-control custom-control"
                style="background: lavender"
                placeholder="tags"
                rows="1"
                value.bind="note.tags | tag : $parent : $index">
              </textarea>
              <div class="row" show.bind="note.ts_cre">
                <label class="label label-default pull-right" style="margin-right: 15px">Created:  ${note.ts_cre | dateFormat}</label>
                <label class="label label-default pull-right" style="margin-right: 15px">Updated:  ${note.ts_upd | dateFormat}</label>
              </div>
            </div>
        </div>
      </div>
</panel>
  </section>
</template>
